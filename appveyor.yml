environment:
  PYTHON: "C:\\Python37"

  matrix:
    - MINGW_CONFIGURATIONS: "8@x86@dwarf2@posix"
      ARCH: x86
      CONAN_ARCHS: x86
      CPT_TEST_FOLDER: test_package_installer
      CONAN_CONANFILE: conanfile_installer.py
    - MINGW_CONFIGURATIONS: "8@x86_64@seh@posix" # bincrafters-conventions:preserve-build-job
      ARCH: x86_64
      CONAN_ARCHS: x86_64
      CPT_TEST_FOLDER: test_package_installer
      CONAN_CONANFILE: conanfile_installer.py

install:
  - set PATH=%PYTHON%;%PYTHON%/Scripts/;%PATH%
  - pip.exe install conan --upgrade
  - pip.exe install conan_package_tools bincrafters_package_tools
  - conan user # It creates the conan data directory

build_script:
  - python build.py
